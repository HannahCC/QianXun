<table class="notice_modify_canteen"></table> 
<div id ="window"></div>
<script type="text/javascript">
    var token =localStorage.getItem("token");
    var url = "/qianxun/1/manager/canteen/notice";
    newNoticeDatagrid(".notice_modify_canteen");
    $('.notice_modify_canteen').datagrid({  
        onClickRow:function(index, data){
            $('#window').window({
                href:'notice_modify_canteen_form.html',
                modal:true,
                width:800,
                height:500,
                title:"修改公告",
                onLoad:function(){
                    setNoticeData(data.id,data.title,data.content);
                },
                onClose:function(){
                    document.getElementById("window").innerHTML="";
                }
            });
                

        }
    });
    /*  do pagination */
    var pg = $(".notice_modify_canteen").datagrid("getPager"); 
    $(pg).pagination({
        onSelectPage: function (pageNumber, pageSize) {
            getNoticeData(".notice_modify_canteen",url,pageNumber, pageSize); 
        } 
    });
    getNoticeData(".notice_modify_canteen",url,1,20);


    function setNoticeData(id,title,content){
        $('#noticeId').val(id);
        $('#noticeTitle').val(title);
        $('#noticeContent').val(content);
    }
</script>
